(dp1
S'output'
p2
S"<type 'exceptions.ValueError'> invalid literal for long() with base 10: 'None'"
p3
sS'layer'
p4
S'C:\\Users\\Ferchu\\Desktop\\web2py\\applications\\sistema\\controllers/comercio.py'
p5
sS'code'
p6
S'def index():\n\tif session.usuario != "":\n\t\tcomercios=db().select(db.Comercio.ALL)\n\t\tresponse.view="comercio/home.html"\n\t\treturn dict(comercios=comercios)\n\telse:\n\t\tresponse.view="inicio/LogIn.html"\n\t\treturn dict()\n\ndef AdherirComercio():\n\tdb(db.Telefono.idCom == None).delete()\n\tresponse.view="comercio/AdherirComercio.html"\n\treturn dict()\n\ndef Comercios():\n\tresponse.view="comercio/Comercios.html"\n\treturn dict()\n\ndef filtrado():\n\tfiltro=request.post_vars\n\tcomercios=db(db.Comercio.Codigo == filtro.Codigo).select()\n\ttelefonos=db(db.Telefono.idCom == comercios[0].id).select()\n\tcontacto=db(db.Contacto.idCom == comercios[0].id).select()\n\ttecnico=db(db.Tecnico.idCom == comercios[0].id).select()\n\tplanes=db(db.Planes.idCom == comercios[0].id).select()\n\n\tif len(comercios)!=0:\n\t\tresponse.view="comercio/Comercios.html"\n\t\treturn dict(comercios=comercios,telefonos=telefonos,contacto=contacto,tecnico=tecnico,planes=planes)\n\telse:\n\t\tresponse.view="comercio/Buscar.html"\n\t\treturn dict(msj="Codigo no existe")\n\ndef home():\n\tcomercios=db().select(db.Comercio.ALL)\n\tresponse.view="comercio/home.html"\n\treturn dict(comercios=comercios)\n\ndef Buscar():\n\tif session.usuario != "":\n\t\tresponse.view="comercio/Buscar.html"\n\t\treturn dict(msj="Ingrese codigo de comercio")\n\telse:\n\t\tresponse.view="inicio/LogIn.html"\n\t\treturn dict()\n\ndef adherir():\n\tdatos = request.post_vars\n\tdb.Comercio.insert(Codigo=datos.Codigo,Nombre=datos.Nombre,Rubro=datos.Rubro,Provincia=datos.Provincia,Localidad=datos.Localidad,CodigoPostal=datos.CodigoPostal,Direccion=datos.Direccion,Usuario=datos.Usuario,Pass=datos.Pass,)\n\tcomercio = db(db.Comercio.Codigo == datos.Codigo).select()\n\tdb(db.Telefono.idCom == None).update(idCom=comercio[0].id)\n\tdb.Contacto.insert(idCom=comercio[0].id,Correo=datos.UsuarioS,Pass=datos.PassS)\n\tdb.Tecnico.insert(idCom=comercio[0].id,Nombre=datos.NombreT,Celular=datos.CelT,Fijo=datos.TelT)\n\tdb.Planes.insert(idCom=comercio[0].id,DniN=datos.NuevoD,DniR=datos.RenovD,DniM=datos.MaxD,SueldoN=datos.NuevoS,SueldoR=datos.RenovS,SueldoM=datos.MaxS,Entrega=datos.Engrega,Paralelos=datos.Paralelos,B40=datos.Beneficio,Mora=datos.Mora,Cliente=datos.Cliente)\n\t\n\tresponse.view  = "inicio/index.html"\n\treturn dict()\n\ndef adherirTelefonos():\n\tdatos = request.post_vars\n\tcomercio = db(db.Comercio.Codigo == datos.Codigo).select()\n\tdb.Telefono.insert(Prefijo=str(datos.Prefijos),Numero=str(datos.Telefonos),Contacto=str(datos.Nombres))\n\treturn()\n\n\ndef mostrar():\n\treturn dict()\n\ndef mostrarTelefono():\n\tcod = request.post_vars\n\tcodigo = db(db.Comercio.Codigo == cod.Codigo).select()\n\tdatos = db(db.Telefono.idCom == codigo[0].id).select()\n\treturn response.json(datos)\nresponse._vars=response._caller(mostrarTelefono)\n'
p7
sS'snapshot'
p8
(dp9
sS'traceback'
p10
S'Traceback (most recent call last):\n  File "C:\\Users\\Ferchu\\Desktop\\web2py\\gluon\\restricted.py", line 227, in restricted\n    exec ccode in environment\n  File "C:\\Users\\Ferchu\\Desktop\\web2py\\applications\\sistema\\controllers/comercio.py", line 74, in <module>\n  File "C:\\Users\\Ferchu\\Desktop\\web2py\\gluon\\globals.py", line 417, in <lambda>\n    self._caller = lambda f: f()\n  File "C:\\Users\\Ferchu\\Desktop\\web2py\\applications\\sistema\\controllers/comercio.py", line 71, in mostrarTelefono\n    codigo = db(db.Comercio.Codigo == cod.Codigo).select()\n  File "C:\\Users\\Ferchu\\Desktop\\web2py\\gluon\\packages\\dal\\pydal\\objects.py", line 2020, in select\n    return adapter.select(self.query, fields, attributes)\n  File "C:\\Users\\Ferchu\\Desktop\\web2py\\gluon\\packages\\dal\\pydal\\adapters\\sqlite.py", line 123, in select\n    return super(SQLiteAdapter, self).select(query, fields, attributes)\n  File "C:\\Users\\Ferchu\\Desktop\\web2py\\gluon\\packages\\dal\\pydal\\adapters\\base.py", line 1283, in select\n    sql = self._select(query, fields, attributes)\n  File "C:\\Users\\Ferchu\\Desktop\\web2py\\gluon\\packages\\dal\\pydal\\adapters\\base.py", line 1170, in _select\n    sql_w = \' WHERE \' + self.expand(query) if query else \'\'\n  File "C:\\Users\\Ferchu\\Desktop\\web2py\\gluon\\packages\\dal\\pydal\\adapters\\base.py", line 952, in expand\n    rv = op(first, second, **optional_args)\n  File "C:\\Users\\Ferchu\\Desktop\\web2py\\gluon\\packages\\dal\\pydal\\adapters\\base.py", line 846, in EQ\n    self.expand(second, first.type))\n  File "C:\\Users\\Ferchu\\Desktop\\web2py\\gluon\\packages\\dal\\pydal\\adapters\\base.py", line 962, in expand\n    rv = self.represent(expression, field_type)\n  File "C:\\Users\\Ferchu\\Desktop\\web2py\\gluon\\packages\\dal\\pydal\\adapters\\base.py", line 1435, in represent\n    return str(long(obj))\nValueError: invalid literal for long() with base 10: \'None\'\n'
p11
s.